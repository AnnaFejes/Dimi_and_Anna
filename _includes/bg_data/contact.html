<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script>
    $(function(){
    $(".ajaxForm").submit(function(e){
        e.preventDefault();
        var href = $(this).attr("action");
        $.ajax({
            type: "POST",
            dataType: "json",
            url: href,
            data: $(this).serialize(),
            success: function(response){
                if(response.status == "success"){
                    alert('Thank you. Your message has been sent.');
                    window.location.href = 'https://alicelepissier.com/wedding-template/en/#contact';
                }else{
                    alert("An error occured: " + response.message);
                }
            }
        });
    });
    });
</script>
<section id="contact">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2 class="section-heading">Contact Us</h2>
                <h3 class="section-subheading text-muted">Or send us an email at <a href="mailto:petsgetsmarried@gmail.com">petsgetmarried@gmail.com</a>.</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <!-- Create your own form using FormCarry: https://formcarry.com/ -->
                <form class="ajaxForm" action="YOUR_FORM_CARRY_ENDPOINT" method="POST">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="control-group form-group">
                                <input type="text" class="form-control" placeholder="Your Name" id="name" name="name" required data-validation-required-message="Please enter your name.">
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="control-group form-group">
                                <input type="email" class="form-control" placeholder="Your Email" id="email" name="email" required data-validation-required-message="Please enter your email address.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="control-group form-group">
                                <textarea class="form-control" placeholder="Your Message" id="message" name="message" required data-validation-required-message="Please enter a message."></textarea>
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-lg-12 text-center">
                            <div id="success"></div>
                            <button type="submit" class="btn btn-xl">Send Message</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <h2>RSVP Form</h2>

    <form id="rsvpForm" action="https://formspree.io/f/xzzeznjk" method="POST">
        <label for="numGuests">Number of Guests:</label>
        <select id="numGuests" name="numGuests" onchange="updateGuestFields()">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select>

        <div id="guestFields"></div>

        <button type="submit">Submit RSVP</button>
    </form>

    <script>
        function updateGuestFields() {
            let numGuests = document.getElementById("numGuests").value;
            let guestFields = document.getElementById("guestFields");

            // Clear previous guest entries
            guestFields.innerHTML = "";

            for (let i = 1; i <= numGuests; i++) {
                let guestDiv = document.createElement("div");
                guestDiv.classList.add("guest-details");

                guestDiv.innerHTML = `
                    <h4>Guest ${i}</h4>
                    <label for="guestName${i}">Name:</label>
                    <input type="text" id="guestName${i}" name="guestName${i}" required>
                    
                    <label for="menuChoice${i}">Menu Choice:</label>
                    <select id="menuChoice${i}" name="menuChoice${i}" required>
                        <option value="vegetarian">Vegetarian</option>
                        <option value="chicken">Chicken</option>
                        <option value="beef">Beef</option>
                        <option value="fish">Fish</option>
                    </select>
                `;

                guestFields.appendChild(guestDiv);
            }
        }

        // Initialize the form with the default number of guests
        updateGuestFields();
    </script>

</section>